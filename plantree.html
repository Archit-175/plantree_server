<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact and Donation Form</title>

    <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');

    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: 'Poppins', sans-serif;
    }

    body {
        background-color: #1a1a1a;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        padding: 20px;
    }

    .contact h2 {
        font-size: 40px;
        color: #ededed;
        text-align: center;
        margin-bottom: 10px;
    }

    .contact form {
        width: 100%;
        max-width: 600px;
        text-align: center;
    }

    form .input-box {
        display: flex;
        flex-direction: column;
    }

    .input-box .input-field {
        width: 100%;
        margin-bottom: 15px;
    }

    .field .item {
        width: 100%;
        padding: 18px;
        background: transparent;
        border: 2px solid #4CAF50;
        outline: none;
        border-radius: 6px;
        font-size: 16px;
        color: #ededed;
        margin: 12px 0;
    }

    .field.error .item {
        border-color: #d93025;
    }

    .field .item::placeholder {
        color: rgba(255, 255, 255, 0.3);
    }

    .field .error-txt {
        font-size: 14.5px;
        color: #d93025;
        text-align: left;
        margin: -5px 0 10px;
        display: none;
    }

    .field.error .error-txt {
        display: block;
    }

    form .textarea-field .item {
        resize: none;
    }

    form .textarea-field .error-txt {
        margin-top: 10px;
    }

    form button {
        padding: 12px 32px;
        background: #4CAF50;
        color: #333;
        border: none;
        outline: none;
        border-radius: 6px;
        box-shadow: 0 0 10px #4CAF50;
        font-size: 16px;
        margin-top: 20px;
        letter-spacing: 1px;
        font-weight: 600;
        cursor: pointer;
        transition: 0.5s;
    }

    form button:hover {
        box-shadow: none;
    }

    .donation-section {
        margin: 20px 0;
        text-align: left;
    }

    .donation-section h3 {
        color: #ededed;
        margin-bottom: 10px;
    }

    .plant-options {
        display: flex;
        flex-direction: column;
        gap: 10px;
    }

    .plant-option {
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .plant-option label {
        color: #ededed;
    }

    .plant-option input[type="number"] {
        width: 60px;
        padding: 5px;
        border: 1px solid #4CAF50;
        background-color: transparent;
        color: #ededed;
        border-radius: 4px;
    }

    .total-price {
        margin-top: 15px;
        font-weight: bold;
        color: #4CAF50;
    }

    @media screen and (min-width: 768px) {
        form .input-box {
            flex-direction: row;
            justify-content: space-between;
        }

        .input-box .input-field {
            width: 48.5%;
        }
    }

    @media screen and (max-width: 480px) {
        .contact h2 {
            font-size: 30px;
        }

        .field .item {
            padding: 14px;
            font-size: 14px;
        }

        form button {
            padding: 10px 24px;
            font-size: 14px;
        }

        .plant-option label {
            font-size: 14px;
        }

        .plant-option input[type="number"] {
            width: 50px;
            padding: 3px;
        }
    }
</style>
    </style>
</head>

<body>
    <section class="contact">
        <h2>Plant Tree</h2>

        <form action="/submit" method="POST">
            
            <div class="input-box">
                <div class="input-field field">
                    <input type="text" placeholder="Full Name" name="name" id="name" class="item" autocomplete="off">
                    <div class="error-txt">Full Name can't be blank</div>
                </div>
                <div class="input-field field">
                    <input type="text" name="email" placeholder="Email Address" id="email" class="item" autocomplete="off">
                    <div class="error-txt email">Email Address can't be blank</div>
                </div>
            </div>
            <div class="input-box">
                <div class="input-field field">
                    <input type="text" name="phone" placeholder="Phone Number" id="phone" class="item" autocomplete="off">
                    <div class="error-txt">Phone Number can't be blank</div>
                </div>
                <div class="input-field field">
                    <input type="text" name="country" placeholder="Country" id="country" class="item" autocomplete="off">
                    <div class="error-txt">Country can't be blank</div>
                </div>
            </div>
            <div class="donation-section">
                <h3>Plant a Tree</h3>
                <div class="plant-options">
                    <div class="plant-option">
                        <label>Oak ($10)</label>
                        <input type="number" id="plant_quantity" name="plant_quantity_oak" data-plant="oak" data-price="10" min="0" value="0">
                    </div>
                    <div class="plant-option">
                        <label>Maple ($15)</label>
                        <input type="number" id="plant_quantity" name="plant_quantity_maple" data-plant="maple" data-price="15" min="0" value="0">
                    </div>
                    <div class="plant-option">
                        <label>Pine ($12)</label>
                        <input type="number" id="plant_quantity" name="plant_quantity_pine" data-plant="pine" data-price="12" min="0" value="0">
                    </div>
                </div>
                <div class="total-price">
                    Total: $<span id="total" name="total">0</span>
                </div>
            </div>
            <div class="textarea-field field">
                <textarea name="message" id="message" cols="30" rows="10" placeholder="Your Message" class="item"
                    autocomplete="off"></textarea>
                <div class="error-txt">Message can't be blank</div>
            </div>
            <button type="submit">Send Message</button>
        </form>

    </section>

    <!-- <script src="https://smtpjs.com/v3/smtp.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script> -->
    <script>
        console.log("hi")
        const form = document.querySelector('form');
        const fullName = document.getElementById("name");
        const email = document.getElementById("email");
        const phone = document.getElementById("phone");
        const country = document.getElementById("country");
        const mess = document.getElementById("message");

        // Get all quantity inputs and the total element
        const plantQuantityInputs = document.querySelectorAll('input[id="plant_quantity"]');
        const totalElement = document.getElementById('total');
        
        // Function to calculate and update the total price
        function updateTotalPrice() {
            let total = 0;
            plantQuantityInputs.forEach(input => {
                const quantity = parseInt(input.value);
                const price = parseFloat(input.dataset.price);
                total += quantity * price;
            });
            totalElement.textContent = total.toFixed(2);
        }

        // Add event listeners to all quantity inputs
        plantQuantityInputs.forEach(input => {
            input.addEventListener('change', updateTotalPrice);
            input.addEventListener('input', updateTotalPrice);
        });

        // function checkInput() {
        //     const items = document.querySelectorAll(".item");

        //     for (const item of items) {
        //         if (item.value == "") {
        //             item.classList.add("error");
        //             item.parentElement.classList.add("error");
        //         }

        //         if (items[1].value != "") {
        //             checkEmail();
        //         }

        //         items[1].addEventListener("keyup", () => {
        //             checkEmail();
        //         });

        //         item.addEventListener("keyup", () => {
        //             if (item.value != "") {
        //                 item.classList.remove("error");
        //                 item.parentElement.classList.remove("error");
        //             }
        //             else {
        //                 item.classList.add("error");
        //                 item.parentElement.classList.add("error");
        //             }
        //         });
        //     }
        // }

        // function checkEmail() {
        //     const emailRegex = /^([a-z\d\.-]+)@([a-z\d-]+)\.([a-z]{2,3})(\.[a-z]{2,3})?$/;
        //     const errorTxtEmail = document.querySelector(".error-txt.email");

        //     if (!email.value.match(emailRegex)) {
        //         email.classList.add("error");
        //         email.parentElement.classList.add("error");

        //         if (email.value != "") {
        //             errorTxtEmail.textContent = "Invalid Email Address";
        //         }
        //         else {
        //             errorTxtEmail.textContent = "Email Address can't be blank";
        //         }
        //     }
        //     else {
        //         email.classList.remove("error");
        //         email.parentElement.classList.remove("error");
        //     }
        // }
        // updateTotalPrice();
        // form.addEventListener("submit", (e) => {
        //     e.preventDefault();
        //     checkInput();

        //     if (!fullName.classList.contains("error") && !email.classList.contains("error") && !phone.classList.contains("error") && !mess.classList.contains("error")) {
        //         sendEmail();

        //         form.reset();
        //         plantQuantityInputs.forEach(input => input.value = "0");
        //         updateTotalPrice();
        //         return false;
        //     }
        // });
    </script>
</body>

</html>
